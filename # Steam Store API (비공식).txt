# Steam Store API (ë¹„ê³µì‹)

## appdetails - ê²Œì„ ìƒì„¸ ì •ë³´ ì¡°íšŒ

**URL:** `https://store.steampowered.com/api/appdetails`

### íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|---------|------|------|--------|------|
| `appids` | string | âœ… | - | ì¡°íšŒí•  AppID (ì‰¼í‘œë¡œ êµ¬ë¶„, ìµœëŒ€ 100ê°œ) |
| `cc` | string | âŒ | us | êµ­ê°€ ì½”ë“œ (kr, us, jp ë“±) |
| `l` | string | âŒ | english | ì–¸ì–´ (korean, english ë“±) |
| `filters` | string | âŒ | - | íŠ¹ì • í•„ë“œë§Œ ì¡°íšŒ (basic, price_overview) |

### ì‘ë‹µ

```json
{
  "730": {
    "success": true,
    "data": {
      "type": "game",
      "name": "Counter-Strike 2",
      "steam_appid": 730,
      "is_free": false,
      "price_overview": {
        "currency": "KRW",
        "initial": 0,
        "final": 0,
        "discount_percent": 0,
        "initial_formatted": "",
        "final_formatted": "Free"
      },
      "header_image": "https://...",
      "developers": ["Valve"],
      "publishers": ["Valve"]
    }
  }
}
```

**ì£¼ìš” í•„ë“œ:**

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `success` | ì¡°íšŒ ì„±ê³µ ì—¬ë¶€ |
| `is_free` | ë¬´ë£Œ ê²Œì„ ì—¬ë¶€ |
| `price_overview` | ê°€ê²© ì •ë³´ (F2PëŠ” ì—†ìŒ) |
| `initial` | ì›ê°€ (ì„¼íŠ¸ ë‹¨ìœ„) |
| `final` | ìµœì¢… ê°€ê²© (ì„¼íŠ¸ ë‹¨ìœ„) |
| `discount_percent` | í• ì¸ìœ¨ (%) |

### Rate Limit

- **5ë¶„ë‹¹ ì œí•œ:** 200 requests
- **ê¶Œì¥ ê°„ê²©:** 1.5ì´ˆ
- **ì´ˆê³¼ ì‹œ:** 429 Too Many Requests

### í™œìš© ì˜ˆì‹œ

```python
import requests
import time

def get_game_details(appid, country='kr', language='korean'):
    """ê²Œì„ ìƒì„¸ ì •ë³´ ì¡°íšŒ"""
    url = "https://store.steampowered.com/api/appdetails"
    
    params = {
        'appids': appid,
        'cc': country,
        'l': language
    }
    
    response = requests.get(url, params=params)
    data = response.json()
    
    if data[str(appid)]['success']:
        return data[str(appid)]['data']
    return None

# ì˜ˆì‹œ 1: ê¸°ë³¸ ì •ë³´
game = get_game_details(730)
print(f"ê²Œì„ëª…: {game['name']}")
print(f"ë¬´ë£Œ ê²Œì„: {game['is_free']}")

# ì˜ˆì‹œ 2: ê°€ê²© ë° í• ì¸ ì •ë³´
def check_discount(appid):
    """í• ì¸ ì—¬ë¶€ í™•ì¸"""
    game = get_game_details(appid)
    
    if not game:
        return None
    
    # ë¬´ë£Œ ê²Œì„ ì²´í¬
    if game.get('is_free') or 'price_overview' not in game:
        return {'name': game['name'], 'is_free': True}
    
    price = game['price_overview']
    
    return {
        'name': game['name'],
        'currency': price['currency'],
        'original_price': price['initial'] / 100,
        'current_price': price['final'] / 100,
        'discount': price['discount_percent'],
        'is_on_sale': price['discount_percent'] > 0
    }

# ì˜ˆì‹œ 3: ì—¬ëŸ¬ ê²Œì„ ì¡°íšŒ (ìµœëŒ€ 100ê°œ)
def get_multiple_games(appids):
    """ì—¬ëŸ¬ ê²Œì„ ì •ë³´ í•œë²ˆì— ì¡°íšŒ"""
    url = "https://store.steampowered.com/api/appdetails"
    
    # ì‰¼í‘œë¡œ êµ¬ë¶„
    params = {
        'appids': ','.join(map(str, appids)),
        'cc': 'kr',
        'l': 'korean'
    }
    
    response = requests.get(url, params=params)
    return response.json()

# ì¸ê¸° ê²Œì„ë“¤
games = get_multiple_games([730, 570, 440])

for appid, info in games.items():
    if info['success']:
        print(f"{info['data']['name']}")
    time.sleep(1.5)

# ì˜ˆì‹œ 4: í• ì¸ ê°ì§€ ì‹œìŠ¤í…œ
def monitor_sales(appids):
    """ê²Œì„ í• ì¸ ëª¨ë‹ˆí„°ë§"""
    results = []
    
    for appid in appids:
        info = check_discount(appid)
        
        if info and info.get('is_on_sale'):
            results.append({
                'name': info['name'],
                'discount': info['discount'],
                'price': info['current_price']
            })
        
        time.sleep(1.5)  # Rate Limit ëŒ€ì‘
    
    return results

# ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ
watch_list = [730, 570, 440, 570940]
on_sale = monitor_sales(watch_list)

for game in on_sale:
    print(f"ğŸ”¥ {game['name']}: {game['discount']}% í• ì¸!")
```

### ì£¼ì˜ì‚¬í•­

- **ê°€ê²©ì€ ì„¼íŠ¸ ë‹¨ìœ„** - 100ìœ¼ë¡œ ë‚˜ëˆ ì•¼ ì‹¤ì œ ê°€ê²©
- **ë¬´ë£Œ ê²Œì„ì€ price_overview ì—†ìŒ** - is_freeë¡œ í™•ì¸
- **Rate Limit ì—„ê²©** - 1.5ì´ˆ ê°„ê²© í•„ìˆ˜
- **ë¹„ê³µì‹ API** - ì˜ˆê³  ì—†ì´ ë³€ê²½ ê°€ëŠ¥
- **ì—¬ëŸ¬ ê²Œì„ ì¡°íšŒ ì‹œ** - ì‰¼í‘œë¡œ êµ¬ë¶„, ìµœëŒ€ 100ê°œ